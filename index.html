<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>管理信息系统(中英)复习资料</title>
    <style>
        :root {
            --primary-color: #3498db;
            --primary-dark: #2980b9;
            --secondary-color: #2c3e50;
            --secondary-dark: #1a2530;
            --light-color: #f9f9f9;
            --border-color: #eee;
            --text-color: #333;
            --box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: "Microsoft YaHei", Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            background-color: var(--light-color);
            overflow-x: hidden;
        }
        
        h1 {
            text-align: center;
            color: var(--secondary-color);
            margin: 15px 0 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--primary-color);
            font-size: 1.8rem;
        }
        
        h2 {
            color: var(--primary-dark);
            margin-top: 30px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            font-size: 1.5rem;
        }
        
        .question {
            background-color: white;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: var(--box-shadow);
            transition: transform 0.2s ease;
        }
        
        .question:hover {
            transform: translateY(-2px);
        }
        
        .question-title {
            font-weight: bold;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }
        
        .question-title span {
            flex: 1;
            min-width: 200px;
        }
        
        .answer {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #ddd;
            line-height: 1.7;
        }
        
        .answer p {
            margin-bottom: 8px;
        }
        
        .answer strong {
            color: var(--primary-dark);
        }
        
        .show-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s;
            white-space: nowrap;
        }
        
        .show-btn:hover {
            background-color: var(--primary-dark);
        }
        
        /* 语音播放按钮样式 */
        .speak-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.3s;
            white-space: nowrap;
            margin-left: 5px;
            display: none; /* 默认隐藏，只对英文题目显示 */
        }
        
        .speak-btn:hover {
            background-color: var(--secondary-dark);
        }
        
        .speak-btn.speaking {
            background-color: #e74c3c;
        }
        
        /* 移动端按钮增强 */
        @media (max-width: 768px) {
            .speak-btn {
                padding: 6px 10px; /* 增大点击区域 */
                font-size: 13px; /* 稍微增大字号 */
                margin-top: 5px; /* 顶部间距 */
                -webkit-tap-highlight-color: rgba(0,0,0,0); /* 去除点击高亮 */
                touch-action: manipulation; /* 优化触摸操作 */
            }
            
            /* 确保按钮有正确的层叠顺序和点击区域 */
            .question-title {
                position: relative;
                z-index: 1;
            }
        }
        
        .chapter {
            margin-bottom: 40px;
            border-radius: 10px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 15px auto;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        /* 控制按钮样式 */
        .control-panel {
            display: none; /* 在移动端隐藏顶部控制面板 */
        }
        
        @media (min-width: 769px) {
            .control-panel {
                position: sticky;
                top: 0;
                background-color: rgba(255, 255, 255, 0.95);
                padding: 15px;
                margin-bottom: 20px;
                border-radius: 8px;
                box-shadow: var(--box-shadow);
                z-index: 100;
                display: flex;
                justify-content: center;
                gap: 15px;
                flex-wrap: wrap;
            }
        }
        
        .control-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 15px;
            font-weight: 500;
        }
        
        .control-btn:hover {
            background-color: var(--secondary-dark);
            transform: translateY(-2px);
        }
        
        .nav-panel {
            position: sticky;
            top: 70px;
            background-color: white;
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 8px;
            box-shadow: var(--box-shadow);
            z-index: 90;
        }
        
        .nav-panel h3 {
            margin-top: 0;
            margin-bottom: 12px;
            color: var(--secondary-color);
            text-align: center;
            font-size: 1.2rem;
        }
        
        .nav-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        
        .nav-link {
            background-color: var(--primary-color);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            text-decoration: none;
            margin: 5px;
            font-size: 14px;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .nav-link:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        /* 返回顶部按钮 */
        .back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--box-shadow);
            z-index: 1000;
        }
        
        .back-to-top.visible {
            opacity: 0.8;
        }
        
        .back-to-top:hover {
            opacity: 1;
            transform: translateY(-5px);
        }
        
        .back-to-top svg {
            width: 24px;
            height: 24px;
        }
        
        /* 移动端优化 */
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            h1 {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            
            h2 {
                font-size: 1.3rem;
            }
            
            .control-panel {
                padding: 10px;
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
            }
            
            .control-btn {
                width: 100%;
                padding: 12px;
            }
            
            .question {
                padding: 12px;
            }
            
            .question-title {
                flex-direction: row; /* 保持水平布局 */
                align-items: center; /* 垂直居中 */
                flex-wrap: wrap; /* 允许在需要时换行 */
                gap: 8px; /* 减小间距 */
            }
            
            .question-title span {
                flex: 1; /* 使问题文本占据可用空间 */
                min-width: 0; /* 允许文本在需要时收缩 */
                margin-bottom: 0; /* 移除底部边距 */
                font-size: 14px; /* 稍微减小字体大小 */
            }
            
            .show-btn {
                flex: 0 0 auto; /* 按钮不伸缩 */
                width: auto; /* 自适应宽度 */
                min-width: 60px; /* 确保最小点击区域 */
                padding: 6px 8px; /* 调整内边距 */
                font-size: 11px; /* 稍微减小字体 */
            }
            
            .nav-panel {
                display: none; /* 隐藏原始导航面板 */
            }
            
            .hamburger-btn {
                display: flex; /* 确保在移动端显示并使用flex布局 */
                align-items: center;
                justify-content: center;
            }
            
            .back-to-top {
                width: 40px;
                height: 40px;
                bottom: 20px;
                right: 20px;
            }
        }
        
        /* 深色模式 */
        @media (prefers-color-scheme: dark) {
            :root {
                --primary-color: #3498db;
                --primary-dark: #2980b9;
                --secondary-color: #2c3e50;
                --secondary-dark: #1a2530;
                --light-color: #121212;
                --border-color: #333;
                --text-color: #e0e0e0;
                --box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            }
            
            body {
                background-color: var(--light-color);
                color: var(--text-color);
            }
            
            .question {
                background-color: #1e1e1e;
            }
            
            .chapter {
                background-color: rgba(30, 30, 30, 0.5);
            }
            
            .control-panel, .nav-panel {
                background-color: rgba(30, 30, 30, 0.95);
            }
            
            .answer {
                border-top-color: #444;
            }
            
            .side-nav {
                background-color: #1e1e1e;
                color: var(--text-color);
            }
            
            .side-nav-header {
                border-bottom-color: #333;
            }
            
            .side-nav-header h3, .side-nav-title {
                color: #ddd;
            }
            
            .side-nav-close {
                color: #aaa;
            }
        }
        
        /* 侧边导航栏 */
        .side-nav {
            position: fixed;
            top: 0;
            left: -300px;
            width: 280px;
            height: 100%;
            background-color: white;
            box-shadow: var(--box-shadow);
            transition: left 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
            padding-top: 60px;
        }
        
        .side-nav.open {
            left: 0;
        }
        
        .side-nav-header {
            padding: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .side-nav-header h3 {
            margin: 0;
            color: var(--secondary-color);
        }
        
        .side-nav-content {
            padding: 15px;
        }
        
        .side-nav-title {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }
        
        .side-nav-links {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .side-nav-link {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .side-nav-link:hover {
            background-color: var(--primary-dark);
        }
        
        .side-nav-close {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 24px;
            cursor: pointer;
            color: #777;
            background: none;
            border: none;
        }
        
        /* 汉堡菜单按钮 - 始终显示在移动端 */
        .hamburger-btn {
            display: block; /* 始终显示 */
            background-color: var(--primary-color);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 999;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            align-items: center;
            justify-content: center;
        }
        
        /* 桌面版隐藏汉堡按钮 */
        @media (min-width: 769px) {
            .hamburger-btn {
                display: none;
            }
        }
        
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
            display: none;
        }
        
        .overlay.open {
            display: block;
        }
        
        /* 模态弹窗样式 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 50px auto;
            padding: 20px;
            width: 90%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: var(--box-shadow);
            position: relative;
        }
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #777;
            transition: color 0.3s;
            font-weight: bold;
        }
        
        .close-btn:hover {
            color: #333;
        }
        
        .modal-title {
            margin-top: 0;
            color: var(--secondary-color);
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 20px;
        }
        
        /* 随机测试样式 */
        .test-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .chapter-btn, .all-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .chapter-btn:hover, .all-btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        .all-btn {
            background-color: var(--secondary-color);
        }
        
        .all-btn:hover {
            background-color: var(--secondary-dark);
        }
        
        .random-question {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 5px solid var(--primary-color);
        }
        
        .random-question h3 {
            margin-top: 0;
            color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        .random-question-text {
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .random-answer {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #ddd;
            display: none;
        }
        
        .show-random-answer {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .show-random-answer:hover {
            background-color: var(--primary-dark);
        }
        
        .generate-btn {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-top: 15px;
            transition: all 0.3s;
        }
        
        .generate-btn:hover {
            background-color: #219653;
            transform: translateY(-2px);
        }
        
        .side-nav-section {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--border-color);
        }
        
        .side-nav-control {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }
        
        .side-nav-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            text-align: center;
        }
        
        .side-nav-btn:hover {
            background-color: var(--secondary-dark);
            transform: translateY(-2px);
        }
        
        .side-nav-btn.primary {
            background-color: var(--primary-color);
        }
        
        .side-nav-btn.primary:hover {
            background-color: var(--primary-dark);
        }
        
        /* 统计信息样式 */
        .stats-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 15px 0;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            flex-wrap: wrap;
        }
        
        .stat-item {
            color: var(--secondary-color);
            font-weight: 500;
            font-size: 14px;
        }
        
        .stat-item span {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        /* 筛选按钮组样式 */
        .filter-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .filter-label {
            color: var(--secondary-color);
            font-size: 14px;
            font-weight: 500;
        }
        
        .filter-btn {
            background-color: #eee;
            color: var(--secondary-color);
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 13px;
        }
        
        .filter-btn:hover {
            background-color: #ddd;
        }
        
        .filter-btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        /* 针对移动端的样式调整 */
        @media (max-width: 768px) {
            .stats-container {
                flex-direction: column;
                gap: 5px;
                margin: 10px 0;
                padding: 8px;
            }
            
            .filter-container {
                flex-direction: column;
                gap: 8px;
            }
            
            .filter-btn {
                width: 100%;
                padding: 8px;
            }
            
            .control-panel {
                padding: 10px;
            }
        }
        
        /* 侧边栏筛选按钮激活状态 */
        .side-nav-btn.active {
            background-color: var(--primary-color);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>


    <h1>管理信息系统(中英)复习资料</h1>
    
    <!-- 控制面板 (桌面版) -->
    <div class="control-panel">
        <button class="control-btn" id="show-all">显示所有答案</button>
        <button class="control-btn" id="hide-all">隐藏所有答案</button>
        <button class="control-btn" id="random-test">随机测试</button>
        <div class="stats-container">
            <div class="stat-item">总题数：<span id="total-questions">0</span></div>
            <div class="stat-item">答案总字数：<span id="total-words">0</span></div>
        </div>
        <div class="filter-container">
            <span class="filter-label">筛选：</span>
            <button class="filter-btn" id="show-all-types">全部题型</button>
            <button class="filter-btn" id="show-definitions">名词解释</button>
            <button class="filter-btn" id="show-short-answers">简答题</button>
        </div>
    </div>
    
    <!-- 侧边导航栏 -->
    <div class="side-nav" id="sideNav">
        <button class="side-nav-close" id="closeSideNav">&times;</button>
        <div class="side-nav-header">
            <h3>管理信息系统 复习资料</h3>
        </div>
        <div class="side-nav-content">
            <!-- 控制按钮区域 -->
            <div class="side-nav-section">
                <div class="side-nav-title">操作菜单</div>
                <div class="side-nav-control">
                    <button class="side-nav-btn" id="side-show-all">显示所有答案</button>
                    <button class="side-nav-btn" id="side-hide-all">隐藏所有答案</button>
                    <button class="side-nav-btn primary" id="side-random-test">随机测试</button>
                </div>
            </div>
            
            <!-- 筛选按钮区域 -->
            <div class="side-nav-section">
                <div class="side-nav-title">题型筛选</div>
                <div class="side-nav-control">
                    <button class="side-nav-btn" id="side-show-all-types">全部题型</button>
                    <button class="side-nav-btn" id="side-show-definitions">名词解释</button>
                    <button class="side-nav-btn" id="side-show-short-answers">简答题</button>
                </div>
            </div>
            
            <!-- 章节导航区域 -->
            <div class="side-nav-section">
                <div class="side-nav-title">章节导航</div>
                <div class="side-nav-links" id="sideNavLinks">
                    <!-- 由 JavaScript 动态填充 -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- 遮罩层 -->
    <div class="overlay" id="overlay"></div>
    
    <!-- 汉堡菜单按钮 -->
    <button class="hamburger-btn" id="hamburgerBtn" aria-label="菜单">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" width="24" height="24">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </button>
    
    <div id="content">
        <!-- 题型介绍 -->
        <div class="chapter">
            <h2>题型介绍</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>考试题型与分值</span>
                    <button class="show-btn">显示详情</button>
                </div>
                <div class="answer">
                    <p>1. 名词解释 - 五题 * 四分 = 20分</p>
                    <p>2. 简答题 - 四题 * 十分 = 40分</p>
                    <p>3. 论述题 - 一题 * 20分 = 20分</p>
                    <p>当成一个议论文来写，类似高中写作文。体现出你对课程的理念和深刻认识。</p>
                    <p>4. 案例分析 - 一题 * 20分 = 20分（含子问题）</p>
                    <p>结合理论知识与案例，表达你的认知和结论。</p>
                </div>
            </div>
        </div>
        
        <!-- 第一章 -->
        <div class="chapter">
            <h2>第一章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Information system（信息系统）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>信息系统是一组相互关联的组件，用于收集、处理、存储和分发信息，以支持组织中的决策制定、协调和控制。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>information（信息）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>信息是指经过处理后形成的、对人类有意义且有用的数据形式。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List and describe the six reasons why information systems are so important for business today.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出并描述信息系统对企业至关重要的六个原因）</p>
                    <p><strong>运营卓越：</strong>通过优化业务流程提高效率和生产力</p>
                    <p><strong>新产品、服务和商业模式：</strong>利用技术开发创新产品</p>
                    <p><strong>客户和供应商亲密度：</strong>通过系统深入了解客户需求，并与供应商紧密协作。</p>
                    <p><strong>改善决策：</strong>通过实时数据支持管理者快速决策。</p>
                    <p><strong>竞争优势：</strong>通过技术领先超越竞争对手。</p>
                    <p><strong>生存：</strong>满足行业法规和市场要求。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List five typical organizational problems.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出五个典型的组织问题）</p>
                    <p>1. 低效的业务流程：传统流程缺乏自动化。</p>
                    <p>2. 不支持的文化：员工抵触技术变革。</p>
                    <p>3. 政治内斗：部门间因资源分配或权力争夺阻碍系统实施。</p>
                    <p>4. 环境变化：未能及时应对市场竞争或法规变化。</p>
                    <p>5. 技术过时：遗留系统无法兼容新技术。</p>
                </div>
            </div>
        </div>
        
        <!-- 第二章 -->
        <div class="chapter">
            <h2>第二章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Business（企业/业务）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>企业是一种正式组织，其目标是通过生产产品或提供服务以获取利润。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Electronic business(e-business)（电子商务）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>利用数字技术和互联网执行企业的主要业务流程，包括企业内部管理及与供应商、客户的协作。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Enterprise application（企业应用）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>跨职能领域的系统，用于协调企业内业务流程，提升整体绩效。包括企业资源计划、供应链管理、客户关系管理。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Describe the characteristics of transaction processing systems (TPS)</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（描述事务处理系统（TPS）的特点）</p>
                    <p>1.为运营经理服务。</p>
                    <p>2.主要目的是回答常规问题并跟踪组织内的交易流程。。</p>
                    <p>3.监控内部运营状态以及公司与外部环境的关系。</p>
                    <p>4.为其他系统提供信息的主要来源。</p>
                    <p>5.为其他系统提供信息的主要来源。</p>
                 
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Describe the characteristics of management information systems (MIS), decision support systems (DSS)</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（描述管理信息系统（MIS）和决策支持系统（DSS）的特点）</p>
                    <p><strong>管理信息系统（MIS）：</strong></p>
                    <p>1.为中层管理者提供报表，监控和控制企业绩效。</p>
                    <p>2. 基于TPS数据生成结构化报告。</p>
                    <p>3. 报告按固定周期生成，格式标准化。</p>
                    <p>4.通常属于灵活性较低且分析能力有限的系统。。</p>
                    <p><strong>决策支持系统（DSS）：</strong></p>
                    <p>1. 服务中层管理者</p>
                    <p>2. 支持非常规决策制定</p>
                    <p>3. 通常同时使用来自 TPS和MIS的外部信息</p>
                    <p>4. 模型驱动型 DSS</p>
                    <p>5. 数据驱动型 DSS</p>
                </div>
            </div>
        </div>
        
        <!-- 第三章 -->
        <div class="chapter">
            <h2>第三章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Best practice（最佳实践）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>最佳实践是指为持续且有效地实现商业目标的最成功的解决方案或解决问题的方法。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Business process reengineering(BPR)（业务流程再造）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>对企业业务流程进行根本性重新思考和设计，以实现绩效的显著提升。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Quality（质量）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>从生产者角度，质量指符合规格或无偏差；从客户角度，质量包括产品耐用性、服务响应速度、心理感知。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List and describe four competitive strategies enabled by information systems that firms can pursue.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出并描述信息系统支持的四种竞争策略）</p>
                    <p>1. 低成本领先：利用信息系统降低运营成本。</p>
                    <p>2. 产品差异化：开发新产品或服务，或通过定制化提升客户体验。</p>
                    <p>3. 聚焦市场利基： 针对特定细分市场，利用系统分析客户数据。</p>
                    <p>4. 加强客户和供应商亲密度：通过系统深化与客户和供应商的关系。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Define and describe the value chain model. List the primary activities and support activities.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（定义价值链模型并列出主要活动和支持活动）</p>
                    <p>价值链模型定义：将企业视为一系列为产品或服务增加价值的活动集合，分为主要活动和支持活动，用于识别信息技术的战略应用点。</p>
                    <p>主要活动：进货物流，生产，出货物流，销售和营销，服务。</p>
                    <p>支持活动：组织基础设施，人力资源，技术开发，采购。</p>
                </div>
            </div>
        </div>
        
        <!-- 第四章 -->
        <div class="chapter">
            <h2>第四章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Ethics（伦理）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>伦理是个人作为自由道德主体，用于做出选择并指导行为的是非原则。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Profiling （数据 profiling/画像）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>通过计算机将多个来源的数据结合，创建个人详细电子档案的过程，常用于营销或安全领域。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List describe the ethical rules that we can guide our behaviors today?</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出并描述当今可指导我们行为的伦理规则）</p>
                    <p>1. 黄金法则：己所不欲，勿施于人。</p>
                    <p>2. 康德的绝对命令：行为若对所有人不可行，则对任何人都不可行。</p>
                    <p>3. 笛卡尔的变化规则：行为若无法重复执行，单次也不可取（滑坡效应）。</p>
                    <p>4. 功利主义原则：选择实现最大价值或善的行为。</p>
                    <p>5. 风险规避原则：避免高失败成本的行为。</p>
                    <p>6. "无免费午餐"规则：物品有所有者，未经允许不得使用。</p>
                </div>
            </div>
        </div>
        
        <!-- 第八章 -->
        <div class="chapter">
            <h2>第八章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Spoofing（欺骗攻击）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>利用虚假电子邮件地址歪曲身份或冒充他人。</p>
                    <p>将网页链接重定向至与预期不同的地址，且该网站伪装成预期目标。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Compare symmetric encryption with public encryption</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（对称加密与公钥加密的对比）</p>
                    <p><strong>对称密钥加密</strong></p>
                    <p>发送方和接收方使用单一的共享密钥。</p>
                    <p><strong>公钥加密</strong></p>
                    <p>使用两个数学上相关的密钥：公钥和私钥。</p>
                    <p>发送方用接收方的公钥加密消息。</p>
                    <p>接收方用私钥解密。</p>
                </div>
            </div>
        </div>
        
        <!-- 第九章 -->
        <div class="chapter">
            <h2>第九章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>CLTV（客户终身价值）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>客户在与企业的整个关系周期内为企业带来的总利润贡献，用于衡量客户价值并指导营销策略。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>JIT（准时制）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>一种供应链管理策略，通过精确协调生产和库存，使原材料和零部件在需要时恰好到达，以减少库存成本和浪费。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Pull-based model（拉动式模型）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>一种供应链运营模式，基于实际客户需求拉动生产和库存，通过实时数据优化供应链响应速度，减少库存积压。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Distinguish between supply planning system and supply execution system.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（区分供应计划系统（Supply Planning System）和供应执行系统（Supply Execution System））</p>
                    <p><strong>供应链计划系统</strong></p>
                    <p>对现有供应链进行建模。</p>
                    <p>需求规划。</p>
                    <p>优化采购、生产计划。</p>
                    <p>确定库存水平。</p>
                    <p>确定运输方式。</p>
                    <p><strong>供应链执行系统</strong></p>
                    <p>管理产品通过配送中心和仓库的流动。</p>


                    


                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Distinguish between analytical CRM and Operational CRM.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（区分分析型CRM（Analytical CRM）和运营型CRM（Operational CRM））</p>
                    <p><strong>运营型 CRM：</strong></p>
                    <p>面向客户的应用，如销售自动化、呼叫中心与客户服务支持，以及营销自动化。</p>
                    <p><strong>分析型 CRM：</strong></p>
                    <p>基于由运营型 CRM 系统和客户接触点填充的数据仓库。</p>
                    <p>分析客户数据（联机分析处理、数据挖掘等）。</p>
                    <p>（涉及）客户终身价值（CLTV）。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List the benefits of ERP and SCM.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出ERP和SCM的好处）</p>
                    <p>企业资源计划通过整合跨职能流程以提升效率并支持实时决策。</p>
                    <p>供应链管理则致力于降低库存成本、加强供应商协作并提高交付速度。</p>
                </div>
            </div>
        </div>
        
        <!-- 第十章 -->
        <div class="chapter">
            <h2>第十章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Menu cost（菜单成本）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>指企业调整产品或服务价格时产生的成本，包括重新印刷价目表、更新电子系统、通知客户等行政和操作成本。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>Price discrimination（价格歧视）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>企业根据顾客的支付意愿、购买数量、地理位置等差异，对同一产品或服务制定不同价格的策略，以最大化利润。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List the major business models and revenue models.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出主要商业模式和收入模式）</p>
                    <p><strong>主要商业模式（Business Models）</strong>：企业对消费者，企业对企业，消费者对消费者，社交商务，移动商务</p>
                    <p><strong>主要收入模式（Revenue Models）</strong>：销售收入，订阅收入，广告收入，交易费用收入，免费增值模式，授权/版税收入</p>
                </div>
            </div>
        </div>
        
        <!-- 第十一章 -->
        <div class="chapter">
            <h2>第十一章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Tacit knowledge（隐性知识）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>隐性知识是难以形式化、编码或书面传递的知识，基于个人经验与直觉，存在于个体头脑中，难以被组织系统捕获或存储。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>GDSS（群体决策支持系统）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>GDSS是一种通过计算机软件和网络技术支持群体协同决策的系统，旨在通过提供实时通信、数据共享、投票工具和可视化分析等功能，提升群体决策的效率和质量。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>What is case-based reasoning? How does it work?</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（什么是案例推理（Case-Based Reasoning, CBR）？它如何运作？）</p>
                    <p><strong>定义</strong>：基于案例的推理是将人类专家的知识和过往经验以案例形式存入数据库。当新问题出现时，系统找出最相似案例，应用其解决方案，并在数据库中标记成败。</p>
                    <p><strong>工作流程</strong>：</p>
                    <p>1. 用户描述问题。</p>
                    <p>2. 系统搜索数据库以查找相似案例。</p>
                    <p>3. 系统询问用户额外问题以缩小搜索范围。</p>
                    <p>4. 系统找到最匹配的案例并检索解决方案。</p>
                    <p>5. 系统修改解决方案以更好地适配问题。</p>
                    <p>6. 判断是否成功：若成功，将问题和成功解决方案存储到数据库；若不成功，重复上述步骤。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List the six popular AI techniques.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>（列出六种流行的人工智能（AI）技术）</p>
                    <p>1. 专家系统</p>
                    <p>2. 案例推理</p>
                    <p>3. 遗传算法</p>
                    <p>4. 神经网络</p>
                    <p>5. 智能代理</p>
                    <p>6. 模糊逻辑</p>
                </div>
            </div>
        </div>
        
        <!-- 第十二章 -->
        <div class="chapter">
            <h2>第十二章</h2>
            
            <div class="question">
                <div class="question-title">
                    <span>Prototyping（原型法）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>原型法是一种系统开发方法，通过快速构建一个简化的系统原型，收集用户反馈后反复迭代优化，直至满足需求。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>SDLC（系统开发生命周期）</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>SDLC是一种结构化的系统开发流程，将项目分为多个阶段，逐步推进从需求分析到系统维护的全过程，确保系统性和可控性。</p>
                </div>
            </div>
            
            <div class="question">
                <div class="question-title">
                    <span>List the six stages of SDLC.</span>
                    <button class="show-btn">显示答案</button>
                </div>
                <div class="answer">
                    <p>1. 规划阶段</p>
                    <p>2. 分析阶段</p>
                    <p>3. 设计阶段</p>
                    <p>4. 开发阶段</p>
                    <p>5. 测试阶段</p>
                    <p>6. 实施与维护阶段</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 添加返回顶部按钮 -->
    <button class="back-to-top" id="backToTop" title="返回顶部">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </button>
    
    <!-- 随机测试模态窗口 -->
    <div id="testModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 class="modal-title">随机测试</h2>
            <p>选择一个章节或全部内容进行随机测试：</p>
            
            <div class="test-options">
                <!-- 将由JavaScript动态添加 -->
            </div>
            
            <div id="randomQuestionContainer"></div>
        </div>
    </div>
    
    <script>
        // 原始脚本保持不变
        // 获取所有显示/隐藏答案按钮
        const showButtons = document.querySelectorAll('.show-btn');
        
        // 为每个按钮添加点击事件
        showButtons.forEach(button => {
            button.addEventListener('click', function() {
                // 找到当前问题的答案区域
                const answer = this.parentElement.nextElementSibling;
                
                // 切换答案的显示状态
                if (answer.style.display === 'block') {
                    answer.style.display = 'none';
                    this.textContent = '显示答案';
                } else {
                    answer.style.display = 'block';
                    this.textContent = '隐藏答案';
                }
                
                // 更新统计信息
                updateStats();
            });
        });
        
        // 语音播放功能
        function setupSpeechButtons() {
            // 获取所有问题标题
            const questionTitles = document.querySelectorAll('.question-title span');
            
            // 遍历每个标题
            questionTitles.forEach(titleSpan => {
                const title = titleSpan.textContent;
                
                // 检查标题是否包含英文（至少包含3个连续的英文字母）
                if (/[a-zA-Z]{3,}/.test(title)) {
                    // 创建播放按钮
                    const speakBtn = document.createElement('button');
                    speakBtn.className = 'speak-btn';
                    speakBtn.textContent = '播放英文';
                    speakBtn.setAttribute('title', '播放题目英文');
                    speakBtn.setAttribute('type', 'button'); // 确保不是默认提交按钮
                    
                    // 将按钮添加到标题后面
                    titleSpan.parentElement.insertBefore(speakBtn, titleSpan.nextSibling);
                    
                    // 显示按钮
                    speakBtn.style.display = 'inline-block';
                    
                    // 添加点击事件 - 同时处理点击和触摸
                    speakBtn.addEventListener('click', function(event) {
                        speak(title, event);
                    });
                    
                    // 为移动设备添加触摸事件
                    speakBtn.addEventListener('touchstart', function(event) {
                        // 阻止触摸事件后的点击事件，防止双重触发
                        event.preventDefault();
                        speak(title, event);
                    }, { passive: false });
                }
            });
        }
        
        // 语音播放函数
        function speak(text, event) {
            // 防止事件冒泡和默认行为
            event.preventDefault();
            event.stopPropagation();
            
            // 检查浏览器是否支持语音合成API
            if (!window.speechSynthesis) {
                alert('很抱歉，您的浏览器不支持语音合成功能。请尝试使用Chrome、Edge或Safari浏览器。');
                return;
            }
            
            try {
                // 停止当前正在播放的语音
                window.speechSynthesis.cancel();
                
                // 获取所有播放按钮
                const allSpeakButtons = document.querySelectorAll('.speak-btn');
                allSpeakButtons.forEach(btn => {
                    btn.classList.remove('speaking');
                });
                
                // 设置当前按钮状态
                const button = event.currentTarget;
                button.classList.add('speaking');
                button.textContent = '播放中...';
                
                // 创建语音对象
                const speech = new SpeechSynthesisUtterance();
                speech.text = text;
                speech.lang = 'en-US';
                speech.rate = 0.9;  // 语速稍慢一点
                speech.pitch = 1;
                
                // 语音结束时恢复按钮状态
                speech.onend = function() {
                    button.classList.remove('speaking');
                    button.textContent = '播放英文';
                };
                
                // 语音出错时处理
                speech.onerror = function(event) {
                    console.error('语音合成错误:', event);
                    button.classList.remove('speaking');
                    button.textContent = '播放失败';
                    
                    setTimeout(() => {
                        button.textContent = '播放英文';
                    }, 2000);
                };
                
                // 解决Safari在iOS上的问题
                if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {
                    setTimeout(() => {
                        window.speechSynthesis.speak(speech);
                    }, 100);
                } else {
                    window.speechSynthesis.speak(speech);
                }
            } catch (error) {
                console.error('语音合成出现异常:', error);
                alert('语音播放失败，请尝试使用其他浏览器。');
            }
        }
        
        // 添加目录导航功能
        window.addEventListener('DOMContentLoaded', function() {
            // 初始化统计信息
            updateStats();
            
            // 设置筛选按钮事件
            document.getElementById('show-all-types').addEventListener('click', () => filterQuestions('all-types'));
            document.getElementById('show-definitions').addEventListener('click', () => filterQuestions('definitions'));
            document.getElementById('show-short-answers').addEventListener('click', () => filterQuestions('short-answers'));
            
            // 默认激活"全部题型"按钮
            document.getElementById('show-all-types').classList.add('active');
            document.getElementById('side-show-all-types').classList.add('active');
            
            // 设置语音播放按钮
            setupSpeechButtons();
            
            // 为章节添加ID，便于导航
            const chapters = document.querySelectorAll('.chapter h2');
            chapters.forEach((chapter, index) => {
                chapter.id = 'chapter-' + (index + 1);
            });
            
            // 检查页面中是否已经存在导航面板
            if (!document.querySelector('.nav-panel')) {
                // 创建目录容器
                const nav = document.createElement('div');
                nav.className = 'nav-panel';
                
                // 添加目录标题
                const navTitle = document.createElement('h3');
                navTitle.textContent = '目录导航';
                nav.appendChild(navTitle);
                
                // 创建目录列表
                const navList = document.createElement('div');
                navList.className = 'nav-list';
                
                // 为每个章节创建导航链接
                chapters.forEach((chapter, index) => {
                    const link = document.createElement('a');
                    link.textContent = chapter.textContent;
                    link.href = '#chapter-' + (index + 1);
                    link.className = 'nav-link';
                    
                    // 添加点击事件
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        chapter.scrollIntoView({ behavior: 'smooth' });
                    });
                    
                    navList.appendChild(link);
                });
                
                nav.appendChild(navList);
                
                // 将导航插入到控制面板之后
                const controlPanel = document.querySelector('.control-panel');
                controlPanel.parentNode.insertBefore(nav, controlPanel.nextSibling);
            }
            
            // 为侧边导航链接添加事件和章节内容
            const sideNavLinks = document.getElementById('sideNavLinks');
            // 先清空侧边导航链接
            sideNavLinks.innerHTML = '';
            
            // 为每个章节创建侧边导航链接
            chapters.forEach((chapter, index) => {
                const sideLink = document.createElement('a');
                sideLink.textContent = chapter.textContent;
                sideLink.href = '#chapter-' + (index + 1);
                sideLink.className = 'side-nav-link';
                
                // 添加点击事件
                sideLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    chapter.scrollIntoView({ behavior: 'smooth' });
                    
                    // 关闭侧边栏
                    document.getElementById('sideNav').classList.remove('open');
                    document.getElementById('overlay').classList.remove('open');
                });
                
                sideNavLinks.appendChild(sideLink);
            });
        });
        
        // 侧边导航栏控制
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const closeSideNav = document.getElementById('closeSideNav');
        const sideNav = document.getElementById('sideNav');
        const overlay = document.getElementById('overlay');
        
        // 打开侧边导航
        hamburgerBtn.addEventListener('click', function() {
            sideNav.classList.add('open');
            overlay.classList.add('open');
        });
        
        // 关闭侧边导航
        closeSideNav.addEventListener('click', function() {
            sideNav.classList.remove('open');
            overlay.classList.remove('open');
        });
        
        // 点击遮罩层关闭侧边导航
        overlay.addEventListener('click', function() {
            sideNav.classList.remove('open');
            overlay.classList.remove('open');
        });
        
        // 返回顶部按钮功能
        const backToTopButton = document.getElementById('backToTop');
        
        // 滚动显示/隐藏返回顶部按钮
        window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('visible');
            } else {
                backToTopButton.classList.remove('visible');
            }
        });
        
        // 点击返回顶部
        backToTopButton.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
        
        // 随机测试功能
        const modal = document.getElementById('testModal');
        const randomTestBtn = document.getElementById('random-test');
        const closeBtn = document.querySelector('.close-btn');
        const testOptions = document.querySelector('.test-options');
        const questionContainer = document.getElementById('randomQuestionContainer');
        
        // 打开模态窗口
        randomTestBtn.addEventListener('click', function() {
            modal.style.display = 'block';
            
            // 清空之前的选项
            testOptions.innerHTML = '';
            
            // 添加章节按钮
            const chapters = document.querySelectorAll('.chapter h2');
            chapters.forEach((chapter, index) => {
                const chapterBtn = document.createElement('button');
                chapterBtn.className = 'chapter-btn';
                chapterBtn.textContent = chapter.textContent;
                chapterBtn.dataset.index = index;
                chapterBtn.addEventListener('click', function() {
                    generateRandomQuestion(index);
                });
                testOptions.appendChild(chapterBtn);
            });
            
            // 添加"全部"按钮
            const allBtn = document.createElement('button');
            allBtn.className = 'all-btn';
            allBtn.textContent = '全部章节';
            allBtn.addEventListener('click', function() {
                generateRandomQuestion(-1); // -1 表示所有章节
            });
            testOptions.appendChild(allBtn);
        });
        
        // 关闭模态窗口
        closeBtn.addEventListener('click', function() {
            modal.style.display = 'none';
        });
        
        // 点击模态窗口外部关闭
        window.addEventListener('click', function(event) {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        });
        
        // 生成随机题目
        function generateRandomQuestion(chapterIndex) {
            // 准备获取题目
            let questions = [];
            const chapters = document.querySelectorAll('.chapter');
            
            if (chapterIndex === -1) {
                // 从所有章节获取题目
                document.querySelectorAll('.question').forEach(question => {
                    const title = question.querySelector('.question-title span').textContent;
                    const answer = question.querySelector('.answer').innerHTML;
                    const chapterTitle = question.closest('.chapter').querySelector('h2').textContent;
                    questions.push({ title, answer, chapterTitle });
                });
            } else {
                // 从特定章节获取题目
                const chapter = chapters[chapterIndex];
                const chapterTitle = chapter.querySelector('h2').textContent;
                chapter.querySelectorAll('.question').forEach(question => {
                    const title = question.querySelector('.question-title span').textContent;
                    const answer = question.querySelector('.answer').innerHTML;
                    questions.push({ title, answer, chapterTitle });
                });
            }
            
            // 随机选择一个题目
            if (questions.length > 0) {
                const randomIndex = Math.floor(Math.random() * questions.length);
                const randomQuestion = questions[randomIndex];
                
                // 显示随机题目
                questionContainer.innerHTML = `
                    <div class="random-question">
                        <h3>来自 ${randomQuestion.chapterTitle} 的随机题目</h3>
                        <div class="random-question-text">${randomQuestion.title}</div>
                        <button class="show-random-answer">显示答案</button>
                        <div class="random-answer">${randomQuestion.answer}</div>
                        <button class="generate-btn">生成新题目</button>
                    </div>
                `;
                
                // 显示/隐藏答案功能
                const showAnswerBtn = questionContainer.querySelector('.show-random-answer');
                const answerDiv = questionContainer.querySelector('.random-answer');
                
                showAnswerBtn.addEventListener('click', function() {
                    if (answerDiv.style.display === 'block') {
                        answerDiv.style.display = 'none';
                        showAnswerBtn.textContent = '显示答案';
                    } else {
                        answerDiv.style.display = 'block';
                        showAnswerBtn.textContent = '隐藏答案';
                    }
                });
                
                // 生成新题目按钮
                const generateNewBtn = questionContainer.querySelector('.generate-btn');
                generateNewBtn.addEventListener('click', function() {
                    generateRandomQuestion(chapterIndex);
                });
                
                // 为随机题目添加语音播放按钮（如果是英文题目）
                const randomQuestionText = questionContainer.querySelector('.random-question-text');
                const title = randomQuestionText.textContent;
                
                if (/[a-zA-Z]{3,}/.test(title)) {
                    const speakBtn = document.createElement('button');
                    speakBtn.className = 'speak-btn';
                    speakBtn.textContent = '播放英文';
                    speakBtn.style.display = 'inline-block';
                    speakBtn.style.marginTop = '10px';
                    speakBtn.setAttribute('type', 'button');
                    
                    // 添加到显示答案按钮前面
                    showAnswerBtn.parentElement.insertBefore(speakBtn, showAnswerBtn);
                    
                    // 添加点击事件
                    speakBtn.addEventListener('click', function(event) {
                        speak(title, event);
                    });
                    
                    // 为移动设备添加触摸事件
                    speakBtn.addEventListener('touchstart', function(event) {
                        event.preventDefault();
                        speak(title, event);
                    }, { passive: false });
                }
            }
        }
        
        // 添加侧边栏控制按钮功能
        document.getElementById('side-show-all').addEventListener('click', function() {
            const answers = document.querySelectorAll('.answer');
            answers.forEach(answer => {
                answer.style.display = 'block';
                answer.previousElementSibling.querySelector('.show-btn').textContent = '隐藏答案';
            });
            // 更新统计信息
            updateStats();
            // 关闭侧边栏
            document.getElementById('sideNav').classList.remove('open');
            document.getElementById('overlay').classList.remove('open');
        });
        
        document.getElementById('side-hide-all').addEventListener('click', function() {
            const answers = document.querySelectorAll('.answer');
            answers.forEach(answer => {
                answer.style.display = 'none';
                answer.previousElementSibling.querySelector('.show-btn').textContent = '显示答案';
            });
            // 更新统计信息
            updateStats();
            // 关闭侧边栏
            document.getElementById('sideNav').classList.remove('open');
            document.getElementById('overlay').classList.remove('open');
        });
        
        document.getElementById('side-random-test').addEventListener('click', function() {
            // 关闭侧边栏
            document.getElementById('sideNav').classList.remove('open');
            document.getElementById('overlay').classList.remove('open');
            
            // 打开随机测试模态窗口
            const modal = document.getElementById('testModal');
            modal.style.display = 'block';
            
            // 清空之前的选项
            const testOptions = document.querySelector('.test-options');
            testOptions.innerHTML = '';
            
            // 添加章节按钮
            const chapters = document.querySelectorAll('.chapter h2');
            chapters.forEach((chapter, index) => {
                const chapterBtn = document.createElement('button');
                chapterBtn.className = 'chapter-btn';
                chapterBtn.textContent = chapter.textContent;
                chapterBtn.dataset.index = index;
                chapterBtn.addEventListener('click', function() {
                    generateRandomQuestion(index);
                });
                testOptions.appendChild(chapterBtn);
            });
            
            // 添加"全部"按钮
            const allBtn = document.createElement('button');
            allBtn.className = 'all-btn';
            allBtn.textContent = '全部章节';
            allBtn.addEventListener('click', function() {
                generateRandomQuestion(-1); // -1 表示所有章节
            });
            testOptions.appendChild(allBtn);
        });
        
        // 显示所有答案按钮功能 (桌面版)
        document.getElementById('show-all').addEventListener('click', function() {
            const answers = document.querySelectorAll('.answer');
            answers.forEach(answer => {
                answer.style.display = 'block';
                answer.previousElementSibling.querySelector('.show-btn').textContent = '隐藏答案';
            });
            // 更新统计信息
            updateStats();
        });
        
        // 隐藏所有答案按钮功能 (桌面版)
        document.getElementById('hide-all').addEventListener('click', function() {
            const answers = document.querySelectorAll('.answer');
            answers.forEach(answer => {
                answer.style.display = 'none';
                answer.previousElementSibling.querySelector('.show-btn').textContent = '显示答案';
            });
            // 更新统计信息
            updateStats();
        });
        
        // 随机测试按钮功能 (桌面版)
        document.getElementById('random-test').addEventListener('click', function() {
            const modal = document.getElementById('testModal');
            modal.style.display = 'block';
            
            // 清空之前的选项
            const testOptions = document.querySelector('.test-options');
            testOptions.innerHTML = '';
            
            // 添加章节按钮
            const chapters = document.querySelectorAll('.chapter h2');
            chapters.forEach((chapter, index) => {
                const chapterBtn = document.createElement('button');
                chapterBtn.className = 'chapter-btn';
                chapterBtn.textContent = chapter.textContent;
                chapterBtn.dataset.index = index;
                chapterBtn.addEventListener('click', function() {
                    generateRandomQuestion(index);
                });
                testOptions.appendChild(chapterBtn);
            });
            
            // 添加"全部"按钮
            const allBtn = document.createElement('button');
            allBtn.className = 'all-btn';
            allBtn.textContent = '全部章节';
            allBtn.addEventListener('click', function() {
                generateRandomQuestion(-1); // -1 表示所有章节
            });
            testOptions.appendChild(allBtn);
        });
        
        // 添加侧边栏筛选按钮功能
        document.getElementById('side-show-all-types').addEventListener('click', function() {
            filterQuestions('all-types');
            // 关闭侧边栏
            document.getElementById('sideNav').classList.remove('open');
            document.getElementById('overlay').classList.remove('open');
        });
        
        document.getElementById('side-show-definitions').addEventListener('click', function() {
            filterQuestions('definitions');
            // 关闭侧边栏
            document.getElementById('sideNav').classList.remove('open');
            document.getElementById('overlay').classList.remove('open');
        });
        
        document.getElementById('side-show-short-answers').addEventListener('click', function() {
            filterQuestions('short-answers');
            // 关闭侧边栏
            document.getElementById('sideNav').classList.remove('open');
            document.getElementById('overlay').classList.remove('open');
        });
        
        // 更新统计信息
        function updateStats() {
            // 计算总题目数
            const totalQuestions = document.querySelectorAll('.question').length;
            document.getElementById('total-questions').textContent = totalQuestions;
            
            // 计算答案总字数
            let totalWords = 0;
            const answers = document.querySelectorAll('.answer');
            answers.forEach(answer => {
                // 去除HTML标签，只统计纯文本字数
                const text = answer.textContent.trim();
                totalWords += text.length;
            });
            document.getElementById('total-words').textContent = totalWords;
        }
        
        // 筛选题型功能
        function filterQuestions(type) {
            // 获取所有筛选按钮并重置激活状态
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(btn => btn.classList.remove('active'));
            
            // 获取当前点击的按钮并设置为激活状态
            const currentButton = document.getElementById(`show-${type}`);
            if (currentButton) {
                currentButton.classList.add('active');
            }
            
            // 同时更新侧边栏按钮状态
            const sideButtons = document.querySelectorAll('.side-nav-btn');
            sideButtons.forEach(btn => btn.classList.remove('active'));
            const currentSideButton = document.getElementById(`side-show-${type}`);
            if (currentSideButton) {
                currentSideButton.classList.add('active');
            }
            
            // 获取所有问题
            const questions = document.querySelectorAll('.question');
            
            if (type === 'all-types') {
                // 显示所有题目
                questions.forEach(question => {
                    question.style.display = 'block';
                });
            } else if (type === 'definitions') {
                // 筛选名词解释（通常是题目短且包含括号的）
                questions.forEach(question => {
                    const title = question.querySelector('.question-title span').textContent;
                    // 名词解释通常包含括号且较短
                    if (title.includes('（') || title.includes('(') || 
                        (title.length < 50 && /[A-Za-z]+/.test(title))) {
                        question.style.display = 'block';
                    } else {
                        question.style.display = 'none';
                    }
                });
            } else if (type === 'short-answers') {
                // 筛选简答题（通常题目较长且可能包含"简答"、"describe"等关键词）
                questions.forEach(question => {
                    const title = question.querySelector('.question-title span').textContent;
                    // 简答题通常较长或包含特定关键词
                    if ((title.length > 50 || 
                         title.toLowerCase().includes('describe') || 
                         title.toLowerCase().includes('list') || 
                         title.toLowerCase().includes('简答') ||
                         title.toLowerCase().includes('简述'))) {
                        question.style.display = 'block';
                    } else {
                        question.style.display = 'none';
                    }
                });
            }
            
            // 更新可见的题目数量
            const visibleQuestions = document.querySelectorAll('.question[style="display: block;"]').length;
            document.getElementById('total-questions').textContent = `${visibleQuestions} / ${questions.length}`;
        }
    </script>
</body>
</html> 
